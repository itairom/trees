{"version":3,"sources":["../../src/utils.ts","../../src/constants.ts","../../src/index.tsx","../../src/validation.ts","services/cloudinaryService.js","cmps/ImgUpload.jsx","services/utilService.js","cmps/TreesForm.jsx","pages/SurveyEditor.jsx"],"names":["reader","FileReader","image","length","cloudinaryService","uploadImg","files","UPLOAD_URL","formData","FormData","append","fetch","method","body","then","res","json","catch","err","console","error","ImgUpload","onGetImgUrl","useState","isUpload","setIsUpload","images","setImages","useEffect","a","file","imgUrl","secure_url","value","onChange","imageList","addUpdateIndex","maxNumber","dataURLKey","onClick","ev","stopPropagation","onImageUpload","isDragging","onImageRemoveAll","onImageUpdate","onImageRemove","dragProps","preventDefault","className","style","color","map","index","key","src","data_url","alt","width","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","txt","possible","i","charAt","timeSince","date","addedStr","seconds","Date","round","TreesForm","querySurvey","survey","useSelector","state","TreeModule","loggedInUser","appModule","treeTypeOptions","setTreeTypeOptions","treeType","setType","localSurvey","setLocalSurvey","setImgUrl","childRef","useRef","dispatch","useDispatch","formService","treeTypes","validate","fieldValues","values","temp","errors","health","isLessThenFiveInput","isEmptyInput","canopy","location","mobile","quantity","idx","diameter","height","rootsDiameter","movingPossibility","recommendation","setErrors","Object","every","x","field","useForm","type","description","movingReason","isPalmTree","handleInputChange","resetForm","useHandleModal","isAddingTree","isModalShown","HandleIsModalShown","submitForm","alert","treeCopy","_id","surveyTrees","push","updateSurvey","current","onResetAutocomplete","inputsRef","document","querySelectorAll","textareaRef","forEach","input","textarea","onResetForm","window","scrollTo","dir","action","onSubmit","htmlFor","name","id","target","checked","palmstreeTypes","setIsPalmTree","FormAutocomplete","ref","options","onSetTreeType","treeTypeObj","placeholder","variant","InputProps","inputProps","FormModal","HandleiIsModalShown","modal","isShowen","imgSrc","FormControl","Select","option","MenuItem","label","recomandationOptions","multiline","rows","img","Button","TreePreviewList","lazy","SurveyEditor","currentSurvey","localCurrentSurvey","setLocalCurrentSurvey","query","log","storageSurveyId","storageService","loadFromStorage","surveyTitle","username","fallback","currentSurveyTrees","querySurveyTrees","LazySurveyEditor"],"mappings":"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","file":"static/js/5.22cf23ee.chunk.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getListFiles = exports.getImage = exports.getBase64 = exports.getAcceptTypeString = exports.openFileDialog = void 0;\r\nexports.openFileDialog = function (inputRef) {\r\n    if (inputRef.current)\r\n        inputRef.current.click();\r\n};\r\nexports.getAcceptTypeString = function (acceptType) {\r\n    return acceptType && acceptType.length > 0\r\n        ? acceptType.map(function (item) { return \".\" + item; }).join(', ')\r\n        : 'image/*';\r\n};\r\nexports.getBase64 = function (file) {\r\n    var reader = new FileReader();\r\n    return new Promise(function (resolve) {\r\n        reader.addEventListener('load', function () { return resolve(String(reader.result)); });\r\n        reader.readAsDataURL(file);\r\n    });\r\n};\r\nexports.getImage = function (file) {\r\n    var image = new Image();\r\n    return new Promise(function (resolve) {\r\n        image.addEventListener('load', function () { return resolve(image); });\r\n        image.src = URL.createObjectURL(file);\r\n    });\r\n};\r\nexports.getListFiles = function (files, dataURLKey) {\r\n    var promiseFiles = [];\r\n    for (var i = 0; i < files.length; i += 1) {\r\n        promiseFiles.push(exports.getBase64(files[i]));\r\n    }\r\n    return Promise.all(promiseFiles).then(function (fileListBase64) {\r\n        var fileList = fileListBase64.map(function (base64, index) {\r\n            var _a;\r\n            return (_a = {},\r\n                _a[dataURLKey] = base64,\r\n                _a.file = files[index],\r\n                _a);\r\n        });\r\n        return fileList;\r\n    });\r\n};\r\n//# sourceMappingURL=utils.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DEFAULT_DATA_URL_KEY = exports.INIT_MAX_NUMBER = exports.DEFAULT_NULL_INDEX = void 0;\r\nexports.DEFAULT_NULL_INDEX = -1;\r\nexports.INIT_MAX_NUMBER = 1000;\r\nexports.DEFAULT_DATA_URL_KEY = 'dataURL';\r\n//# sourceMappingURL=constants.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar utils_1 = require(\"./utils\");\r\nvar validation_1 = require(\"./validation\");\r\nvar constants_1 = require(\"./constants\");\r\nvar ReactImageUploading = function (_a) {\r\n    var _b = _a.value, value = _b === void 0 ? [] : _b, onChange = _a.onChange, onError = _a.onError, children = _a.children, _c = _a.dataURLKey, dataURLKey = _c === void 0 ? constants_1.DEFAULT_DATA_URL_KEY : _c, _d = _a.multiple, multiple = _d === void 0 ? false : _d, _e = _a.maxNumber, maxNumber = _e === void 0 ? constants_1.INIT_MAX_NUMBER : _e, acceptType = _a.acceptType, maxFileSize = _a.maxFileSize, resolutionWidth = _a.resolutionWidth, resolutionHeight = _a.resolutionHeight, resolutionType = _a.resolutionType, _f = _a.inputProps, inputProps = _f === void 0 ? {} : _f;\r\n    var inValue = value || [];\r\n    var inputRef = react_1.useRef(null);\r\n    var _g = react_1.useState(constants_1.DEFAULT_NULL_INDEX), keyUpdate = _g[0], setKeyUpdate = _g[1];\r\n    var _h = react_1.useState(null), errors = _h[0], setErrors = _h[1];\r\n    var _j = react_1.useState(false), isDragging = _j[0], setIsDragging = _j[1];\r\n    var handleClickInput = react_1.useCallback(function () { return utils_1.openFileDialog(inputRef); }, [\r\n        inputRef,\r\n    ]);\r\n    var onImageUpload = react_1.useCallback(function () {\r\n        setKeyUpdate(constants_1.DEFAULT_NULL_INDEX);\r\n        handleClickInput();\r\n    }, [handleClickInput]);\r\n    var onImageRemoveAll = react_1.useCallback(function () {\r\n        onChange === null || onChange === void 0 ? void 0 : onChange([]);\r\n    }, [onChange]);\r\n    var onImageRemove = function (index) {\r\n        var updatedList = __spreadArrays(inValue);\r\n        if (Array.isArray(index)) {\r\n            index.forEach(function (i) {\r\n                updatedList.splice(i, 1);\r\n            });\r\n        }\r\n        else {\r\n            updatedList.splice(index, 1);\r\n        }\r\n        onChange === null || onChange === void 0 ? void 0 : onChange(updatedList);\r\n    };\r\n    var onImageUpdate = function (index) {\r\n        setKeyUpdate(index);\r\n        handleClickInput();\r\n    };\r\n    var validate = function (fileList) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var errorsValidation;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, validation_1.getErrorValidation({\r\n                        fileList: fileList,\r\n                        maxFileSize: maxFileSize,\r\n                        maxNumber: maxNumber,\r\n                        acceptType: acceptType,\r\n                        keyUpdate: keyUpdate,\r\n                        resolutionType: resolutionType,\r\n                        resolutionWidth: resolutionWidth,\r\n                        resolutionHeight: resolutionHeight,\r\n                        value: inValue,\r\n                    })];\r\n                case 1:\r\n                    errorsValidation = _a.sent();\r\n                    if (errorsValidation) {\r\n                        setErrors(errorsValidation);\r\n                        onError === null || onError === void 0 ? void 0 : onError(errorsValidation, fileList);\r\n                        return [2 /*return*/, false];\r\n                    }\r\n                    errors && setErrors(null);\r\n                    return [2 /*return*/, true];\r\n            }\r\n        });\r\n    }); };\r\n    var handleChange = function (files) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var fileList, checkValidate, updatedFileList, updatedIndexes, firstFile, i;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!files)\r\n                        return [2 /*return*/];\r\n                    return [4 /*yield*/, utils_1.getListFiles(files, dataURLKey)];\r\n                case 1:\r\n                    fileList = _a.sent();\r\n                    if (!fileList.length)\r\n                        return [2 /*return*/];\r\n                    return [4 /*yield*/, validate(fileList)];\r\n                case 2:\r\n                    checkValidate = _a.sent();\r\n                    if (!checkValidate)\r\n                        return [2 /*return*/];\r\n                    updatedIndexes = [];\r\n                    if (keyUpdate > constants_1.DEFAULT_NULL_INDEX) {\r\n                        firstFile = fileList[0];\r\n                        updatedFileList = __spreadArrays(inValue);\r\n                        updatedFileList[keyUpdate] = firstFile;\r\n                        updatedIndexes.push(keyUpdate);\r\n                    }\r\n                    else if (multiple) {\r\n                        updatedFileList = __spreadArrays(inValue, fileList);\r\n                        for (i = inValue.length; i < updatedFileList.length; i += 1) {\r\n                            updatedIndexes.push(i);\r\n                        }\r\n                    }\r\n                    else {\r\n                        updatedFileList = [fileList[0]];\r\n                        updatedIndexes.push(0);\r\n                    }\r\n                    onChange === null || onChange === void 0 ? void 0 : onChange(updatedFileList, updatedIndexes);\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var onInputChange = function (e) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, handleChange(e.target.files)];\r\n                case 1:\r\n                    _a.sent();\r\n                    keyUpdate > constants_1.DEFAULT_NULL_INDEX && setKeyUpdate(constants_1.DEFAULT_NULL_INDEX);\r\n                    if (inputRef.current)\r\n                        inputRef.current.value = '';\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var acceptTypeString = react_1.useMemo(function () { return utils_1.getAcceptTypeString(acceptType); }, [\r\n        acceptType,\r\n    ]);\r\n    var handleDrag = function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n    var handleDragIn = function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n            setIsDragging(true);\r\n        }\r\n    };\r\n    var handleDragOut = function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setIsDragging(false);\r\n    };\r\n    var handleDrop = function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setIsDragging(false);\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n            handleChange(e.dataTransfer.files);\r\n        }\r\n    };\r\n    var handleDragStart = function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        e.dataTransfer.clearData();\r\n    };\r\n    return (react_1.default.createElement(react_1.default.Fragment, null,\r\n        react_1.default.createElement(\"input\", __assign({ type: \"file\", accept: acceptTypeString, ref: inputRef, multiple: multiple && keyUpdate === constants_1.DEFAULT_NULL_INDEX, onChange: onInputChange, style: { display: 'none' } }, inputProps)), children === null || children === void 0 ? void 0 :\r\n        children({\r\n            imageList: inValue,\r\n            onImageUpload: onImageUpload,\r\n            onImageRemoveAll: onImageRemoveAll,\r\n            onImageUpdate: onImageUpdate,\r\n            onImageRemove: onImageRemove,\r\n            errors: errors,\r\n            dragProps: {\r\n                onDrop: handleDrop,\r\n                onDragEnter: handleDragIn,\r\n                onDragLeave: handleDragOut,\r\n                onDragOver: handleDrag,\r\n                onDragStart: handleDragStart,\r\n            },\r\n            isDragging: isDragging,\r\n        })));\r\n};\r\nexports.default = ReactImageUploading;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getErrorValidation = exports.isMaxNumberValid = exports.isAcceptTypeValid = exports.isMaxFileSizeValid = exports.isImageValid = exports.isResolutionValid = void 0;\r\nvar constants_1 = require(\"./constants\");\r\nvar utils_1 = require(\"./utils\");\r\nexports.isResolutionValid = function (image, resolutionType, resolutionWidth, resolutionHeight) {\r\n    if (resolutionWidth === void 0) { resolutionWidth = 0; }\r\n    if (resolutionHeight === void 0) { resolutionHeight = 1; }\r\n    if (!resolutionWidth || !resolutionHeight || !image.width || !image.height)\r\n        return true;\r\n    switch (resolutionType) {\r\n        case 'absolute': {\r\n            if (image.width === resolutionWidth && image.height === resolutionHeight)\r\n                return true;\r\n            break;\r\n        }\r\n        case 'ratio': {\r\n            var ratio = resolutionWidth / resolutionHeight;\r\n            if (image.width / image.height === ratio)\r\n                return true;\r\n            break;\r\n        }\r\n        case 'less': {\r\n            if (image.width <= resolutionWidth && image.height <= resolutionHeight)\r\n                return true;\r\n            break;\r\n        }\r\n        case 'more': {\r\n            if (image.width >= resolutionWidth && image.height >= resolutionHeight)\r\n                return true;\r\n            break;\r\n        }\r\n        default:\r\n            break;\r\n    }\r\n    return false;\r\n};\r\nexports.isImageValid = function (fileType) {\r\n    if (fileType.includes('image')) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nexports.isMaxFileSizeValid = function (fileSize, maxFileSize) {\r\n    return maxFileSize ? fileSize <= maxFileSize : true;\r\n};\r\nexports.isAcceptTypeValid = function (acceptType, fileName) {\r\n    if (acceptType && acceptType.length > 0) {\r\n        var type_1 = fileName.split('.').pop() || '';\r\n        if (acceptType.findIndex(function (item) { return item.toLowerCase() === type_1.toLowerCase(); }) < 0)\r\n            return false;\r\n    }\r\n    return true;\r\n};\r\nexports.isMaxNumberValid = function (totalNumber, maxNumber, keyUpdate) {\r\n    if (maxNumber !== 0 && !maxNumber)\r\n        return true;\r\n    if (keyUpdate === constants_1.DEFAULT_NULL_INDEX) {\r\n        if (totalNumber <= maxNumber)\r\n            return true;\r\n    }\r\n    else if (totalNumber <= maxNumber + 1)\r\n        return true;\r\n    return false;\r\n};\r\nexports.getErrorValidation = function (_a) {\r\n    var fileList = _a.fileList, value = _a.value, maxNumber = _a.maxNumber, keyUpdate = _a.keyUpdate, acceptType = _a.acceptType, maxFileSize = _a.maxFileSize, resolutionType = _a.resolutionType, resolutionWidth = _a.resolutionWidth, resolutionHeight = _a.resolutionHeight;\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var newErrors, i, file, image, checkRes;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    newErrors = {};\r\n                    if (!!exports.isMaxNumberValid(fileList.length + value.length, maxNumber, keyUpdate)) return [3 /*break*/, 1];\r\n                    newErrors.maxNumber = true;\r\n                    return [3 /*break*/, 5];\r\n                case 1:\r\n                    i = 0;\r\n                    _b.label = 2;\r\n                case 2:\r\n                    if (!(i < fileList.length)) return [3 /*break*/, 5];\r\n                    file = fileList[i].file;\r\n                    if (!file)\r\n                        return [3 /*break*/, 4];\r\n                    if (!exports.isImageValid(file.type)) {\r\n                        newErrors.acceptType = true;\r\n                        return [3 /*break*/, 5];\r\n                    }\r\n                    if (!exports.isAcceptTypeValid(acceptType, file.name)) {\r\n                        newErrors.acceptType = true;\r\n                        return [3 /*break*/, 5];\r\n                    }\r\n                    if (!exports.isMaxFileSizeValid(file.size, maxFileSize)) {\r\n                        newErrors.maxFileSize = true;\r\n                        return [3 /*break*/, 5];\r\n                    }\r\n                    if (!resolutionType) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, utils_1.getImage(file)];\r\n                case 3:\r\n                    image = _b.sent();\r\n                    checkRes = exports.isResolutionValid(image, resolutionType, resolutionWidth, resolutionHeight);\r\n                    if (!checkRes) {\r\n                        newErrors.resolution = true;\r\n                        return [3 /*break*/, 5];\r\n                    }\r\n                    _b.label = 4;\r\n                case 4:\r\n                    i += 1;\r\n                    return [3 /*break*/, 2];\r\n                case 5:\r\n                    if (Object.values(newErrors).find(Boolean))\r\n                        return [2 /*return*/, newErrors];\r\n                    return [2 /*return*/, null];\r\n            }\r\n        });\r\n    });\r\n};\r\n//# sourceMappingURL=validation.js.map","function uploadImg(files) {\n    const CLOUD_NAME = 'dhorz8v6v'\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\n    const formData = new FormData();\n    // formData.append('file', files[0])\n    formData.append('file', files)\n    formData.append('upload_preset', 'e4caygdi');\n\n    return fetch(UPLOAD_URL, {\n        method: 'POST',\n        body: formData\n    })\n        .then(res => res.json())\n        .then(res => {\n            return res\n        })\n        .catch(err => console.error(err))\n}\n\nexport const cloudinaryService = {\n    uploadImg\n}","// REACT IMAGE UPLOAD WRAPPER\nimport React, { useEffect, useState } from \"react\";\nimport ImageUploading from \"react-images-uploading\";\nimport { cloudinaryService } from \"../services/cloudinaryService\";\n\nexport const ImgUpload = ({ onGetImgUrl }) => {\n\n    const [isUpload, setIsUpload] = useState(null);\n    const [images, setImages] = useState([]);\n    const maxNumber = 1;\n\n    useEffect(() => {\n        (async () => {\n            if (images.length !== 0) {\n                setIsUpload(true)\n                const imgUrl = await cloudinaryService.uploadImg(images[0].file)\n                onGetImgUrl(imgUrl.secure_url)\n                setIsUpload(false)\n            }\n        })()\n    }, [images])\n\n\n    const onChange = (imageList, addUpdateIndex) => {\n        setImages(imageList);\n    };\n\n\n    return (\n        <ImageUploading\n            // multiple\n            value={images}\n            onChange={onChange}\n            maxNumber={maxNumber}\n            dataURLKey=\"data_url\"\n            onClick={(ev) => { ev.stopPropagation() }}\n        >\n            {({\n                imageList,\n                onImageUpload,\n                onImageRemoveAll,\n                onImageUpdate,\n                onImageRemove,\n                isDragging,\n                dragProps\n            }) => (\n                <div\n                    onClick={(ev) => {\n                        ev.stopPropagation()\n                        ev.preventDefault()\n                    }}\n                    className=\"upload__image-wrapper \">\n                    <button\n                        className=\"upload-btn btn\"\n                        style={isDragging ? { color: \"red\" } : null}\n                        onClick={(ev) => {\n                            ev.preventDefault()\n                            ev.stopPropagation()\n                            onImageUpload()\n                        }}\n                        {...dragProps}\n                    >\n                        הוסף תמונה\n                    </button>\n                    &nbsp;\n                    {/* <button\n                        className=\"btn\"\n                        onClick={onImageRemoveAll}>Remove all images</button> */}\n                    {!isUpload&& imageList.map((image, index) => (\n                        <div key={index} className=\"image-item\">\n                            <img src={image.data_url} alt=\"\" width=\"100\" />\n                            {/* <div className=\"image-item__btn-wrapper\">\n                                <button onClick={() => onImageUpdate(index)}>Update</button>\n                                <button onClick={() => onImageRemove(index)}>Remove</button>\n                            </div> */}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </ImageUploading>)\n}","\r\nexport const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    timeSince\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction timeSince(date, addedStr = '') {\r\n    var seconds = Math.floor((new Date() - date) / 1000);\r\n    if (Math.round(seconds / (60 * 60 * 24 * 365.25)) >= 2) return Math.round(seconds / (60 * 60 * 24 * 365.25)) + ' years ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24 * 365.25)) >= 1) return '1 year ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24 * 30.4)) >= 2) return Math.round(seconds / (60 * 60 * 24 * 30.4)) + ' months ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24 * 30.4)) >= 1) return '1 month ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24 * 7)) >= 2) return Math.round(seconds / (60 * 60 * 24 * 7)) + ' weeks ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24 * 7)) >= 1) return '1 week ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24)) >= 2) return Math.round(seconds / (60 * 60 * 24)) + ' days ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60 * 24)) >= 1) return '1 day ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60)) >= 2) return Math.round(seconds / (60 * 60)) + ' hours ' + addedStr;\r\n    else if (Math.round(seconds / (60 * 60)) >= 1) return '1 hour ' + addedStr;\r\n    else if (Math.round(seconds / 60) >= 2) return Math.round(seconds / 60) + ' minutes ' + addedStr;\r\n    else if (Math.round(seconds / 60) >= 1) return '1 minute ' + addedStr;\r\n    else if (seconds >= 2) return seconds + ' seconds ' + addedStr;\r\n    else return seconds + '1 second ' + addedStr;\r\n}","import React, { useEffect, useState } from 'react'\nimport { useForm, useHandleModal } from '../services/customHooks'\nimport { Button, MenuItem, Select, FormControl } from '@material-ui/core';\nimport { formService } from '../services/formService';\nimport { useSelector } from 'react-redux';\nimport { FormAutocomplete } from './FormAutocomplete';\nimport Input from './form/input';\nimport FormModal from './form/FormModal';\nimport { ImgUpload } from './ImgUpload';\nimport { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateSurvey } from '../actions/TreeActions';\nimport { utilService } from '../services/utilService';\n\n\nexport const TreesForm = ({ querySurvey }) => {\n\n    const { survey } = useSelector(state => state.TreeModule)\n    const { loggedInUser } = useSelector(state => state.appModule)\n    const [treeTypeOptions, setTreeTypeOptions] = useState([])\n    const [treeType, setType] = useState(null)\n    const [localSurvey, setLocalSurvey] = useState({})\n    const [imgUrl, setImgUrl] = useState('')\n    const childRef = useRef();\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setTreeTypeOptions(formService.treeTypes)\n    }, [])\n\n    useEffect(() => {\n        setLocalSurvey(survey)\n    }, [survey])\n    \n\n    const initialFValues = {\n        quantity: '',\n        type: '',\n        height: '',\n        diameter: '',\n        health: '',\n        location: '',\n        canopy: '',\n        description: '',\n        movingPossibility: '',\n        movingReason: '',\n        idx: '',\n        rootsDiameter: '',\n        recommendation: '',\n        isPalmTree: false\n    }\n\n    const validate = (fieldValues = values) => {\n        let temp = { ...errors }\n        if ('health' in fieldValues)\n            temp.health = isLessThenFiveInput(fieldValues.health) || isEmptyInput(fieldValues.health)\n        if ('canopy' in fieldValues)\n            temp.canopy = isLessThenFiveInput(fieldValues.canopy) || isEmptyInput(fieldValues.canopy)\n        if ('location' in fieldValues)\n            temp.location = isLessThenFiveInput(fieldValues.location) || isEmptyInput(fieldValues.location)\n        if ('mobile' in fieldValues)\n            temp.mobile = isLessThenFiveInput(fieldValues.mobile) || isEmptyInput(fieldValues.mobile)\n        if ('quantity' in fieldValues)\n            temp.quantity = isEmptyInput(fieldValues.quantity)\n        if ('idx' in fieldValues)\n            temp.idx = isEmptyInput(fieldValues.idx)\n        if ('diameter' in fieldValues)\n            temp.diameter = isEmptyInput(fieldValues.diameter)\n        if ('height' in fieldValues)\n            temp.height = isEmptyInput(fieldValues.height)\n        if ('rootsDiameter' in fieldValues)\n            temp.rootsDiameter = isEmptyInput(fieldValues.rootsDiameter)\n        if ('movingPossibility' in fieldValues)\n            temp.movingPossibility = isEmptyInput(fieldValues.movingPossibility)\n        if ('recommendation' in fieldValues)\n            temp.recommendation = isEmptyInput(fieldValues.recommendation)\n\n        setErrors({\n            ...temp\n        })\n\n        if (fieldValues === values)\n            return Object.values(temp).every(x => x === \"\")\n    }\n\n    const isLessThenFiveInput = (field) => {\n        return (field <= 5 && field >= 0) ? \"\" : \"קלט צריך להיות בין 0 ל 5\"\n    }\n    const isEmptyInput = (field) => {\n        const length = (field + '').length\n        return (length > 0) ? \"\" : \"הכנס ערך\"\n    }\n\n    const {\n        values,\n        // setValues,\n        errors,\n        setErrors,\n        handleInputChange,\n        resetForm\n    } = useForm(initialFValues, true, validate);\n\n    const [isModalShown, HandleIsModalShown] = useHandleModal({\n        health: '',\n        location: '',\n        canopy: '',\n        isAddingTree: ''\n    })\n\n    const onResetForm = () => {\n        resetForm()\n        childRef.current.onResetAutocomplete()\n        const inputsRef = document.querySelectorAll('input')\n        const textareaRef = document.querySelectorAll('textarea')\n        inputsRef.forEach(input => {\n            input.value = ''\n        })\n        textareaRef.forEach(textarea => {\n            textarea.value = ''\n        })\n    }\n\n    const onGetImgUrl = (img) => {\n        setImgUrl(img)\n    }\n\n    const onSetTreeType = (treeTypeObj) => {\n        setType(treeTypeObj);\n    }\n\n    const setIsPalmTree = (ev) => {\n        handleInputChange(ev)\n            (ev.target.checked) ? setTreeTypeOptions(formService.palmstreeTypes) : setTreeTypeOptions(formService.treeTypes)\n    }\n\n    const submitForm = (ev) => {\n        ev.preventDefault()\n        if (!treeType) return alert('בחר מין עץ')\n        const treeCopy = { ...values }\n        treeCopy._id = utilService.makeId()\n        treeCopy.type = treeType\n        treeCopy.imgUrl = imgUrl\n        if (validate()) {\n            localSurvey.surveyTrees.push(treeCopy)\n            dispatch(updateSurvey(localSurvey,loggedInUser))\n            HandleIsModalShown(!isModalShown.isAddingTree)\n            querySurvey()\n            onResetForm()\n        }\n        setImgUrl('')\n        window.scrollTo(0, 0)\n    }\n    return (\n        <div className=\"form-container\">\n            <form dir=\"rtl\" action=\"#\" onSubmit={(ev) => submitForm(ev)}>\n                <div className=\"trees-form flex column\">\n                    <div className=\"type-form \">\n                        <label htmlFor=\"isPalmTree rtl\">\n                            <input type=\"checkbox\" name=\"isPalmTree\" id=\"isPalmTree\" onChange={(ev) => { setIsPalmTree(ev) }} />\n                            עץ דקל\n                        </label>\n                        <FormAutocomplete ref={childRef} options={treeTypeOptions} onSetTreeType={onSetTreeType} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p>מספר עץ</p>\n                        <Input\n                            error={errors.idx}\n                            name=\"idx\"\n                            value={values.idx}\n                            onChange={handleInputChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p>כמות עצים</p>\n                        <Input\n                            error={errors.quantity}\n                            value={values.quantity}\n                            name=\"quantity\"\n                            onChange={handleInputChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p>קוטר הגזע</p>\n                        <Input\n                            error={errors.diameter}\n                            value={values.diameter}\n                            placeholder=\"קוטר בס״מ של הגזע\"\n                            name=\"diameter\"\n                            variant=\"standard\"\n                            onChange={handleInputChange} />\n                    </div>\n\n                    <div className=\"input-container\">\n                        <p onClick={() => HandleIsModalShown('health', !isModalShown.health)} >*מצב בריאותי</p>\n                        <Input\n                            error={errors.health}\n                            value={values.health}\n                            InputProps={{\n                                inputProps: {\n                                    max: 5,\n                                    min: 0\n                                }\n                            }}\n                            placeholder=\"0-5\"\n                            id=\"health\"\n                            name=\"health\"\n                            variant=\"standard\"\n                            onChange={handleInputChange} />\n                        {isModalShown.health &&\n                            <FormModal\n                                HandleiIsModalShown={HandleIsModalShown}\n                                modal={{\n                                    type: 'health',\n                                    isShowen: isModalShown.health\n                                }}\n                                imgSrc=\"/imgs/modal/healthModal.png\" />}\n                    </div>\n                    <div className=\"input-container\">\n                        <p>גובה העץ</p>\n                        <Input\n                            error={errors.height}\n                            name=\"height\"\n                            variant=\"standard\"\n                            placeholder=\"גובה העץ במטרים\"\n                            onChange={handleInputChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p onClick={() => HandleIsModalShown('location', !isModalShown.location)} > *מיקום העץ</p>\n\n                        <Input\n                            error={errors.location}\n                            placeholder=\"0-5\"\n                            InputProps={{\n                                inputProps: {\n                                    max: 5,\n                                    min: 0\n                                }\n                            }}\n                            id=\"location\"\n                            name=\"location\"\n                            onChange={handleInputChange} />\n\n                        {isModalShown.location &&\n                            <FormModal\n                                HandleiIsModalShown={HandleIsModalShown}\n                                modal={{\n                                    type: 'location',\n                                    isShowen: isModalShown.location\n                                }}\n                                imgSrc=\"/imgs/modal/locationModal.png\" />}\n                    </div>\n                    <div className=\"input-container\">\n                        <p onClick={() => HandleIsModalShown('canopy', !isModalShown.canopy)} >*ניקוד חופת העץ</p>\n                        <Input\n                            error={errors.canopy}\n                            placeholder=\"0-5\"\n                            InputProps={{\n                                inputProps: {\n                                    max: 5,\n                                    min: 0\n                                }\n                            }}\n                            id=\"canopy\"\n                            name=\"canopy\"\n                            onChange={handleInputChange} />\n                        {isModalShown.canopy &&\n                            <FormModal\n                                HandleiIsModalShown={HandleIsModalShown}\n                                modal={{\n                                    type: 'canopy',\n                                    isShowen: isModalShown.canopy\n                                }}\n                                imgSrc=\"/imgs/modal/canopyModal.png\" />}\n                    </div>\n                    <div className=\"input-container\">\n                        <p>אזור שורשים מוגן</p>\n                        <Input\n                            error={errors.rootsDiameter}\n                            placeholder=\"אזור שורשים מוגן במטרים\"\n                            id=\"rootsDiameter\"\n                            name=\"rootsDiameter\"\n                            onChange={handleInputChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p>היתכנות העתקה</p>\n                        <FormControl>\n                            <Select\n                                type=\"text\"\n                                id=\"movingPossibility\"\n                                name=\"movingPossibility\"\n                                value={values.movingPossibility}\n                                onChange={handleInputChange}>\n                                {formService.movingPossibility.map((option) => (\n                                    <MenuItem\n                                        key={option.label}\n                                        value={option.label}>\n                                        {option.label}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className=\"input-container\">\n                        <p>המלצה</p>\n                        <FormControl >\n                            <Select\n                                // error={errors.recommendation}\n                                type=\"text\"\n                                id=\"recommendation\"\n                                name=\"recommendation\"\n                                value={values.recommendation}\n                                onChange={handleInputChange}>\n                                {formService.recomandationOptions.map((option) => (\n                                    <MenuItem\n                                        key={option.label}\n                                        value={option.label}>\n                                        {option.label}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div className=\"input-container\">\n                        <p>סיבת כריתה או\n                            העתקת\n                            העץ</p>\n                        <Input\n                            multiline\n                            rows={2}\n                            type=\"text\"\n                            id=\"movingReason\"\n                            name=\"movingReason\"\n                            onChange={handleInputChange} />\n                    </div>\n                    <div className=\"input-container\">\n                        <p>הערות</p>\n                        <Input\n                            multiline\n                            rows={2}\n                            type=\"text\"\n                            id=\"description\"\n                            name=\"description\"\n                            onChange={handleInputChange} />\n                    </div>\n                </div>\n                <ImgUpload onGetImgUrl={onGetImgUrl} />\n                <Button onClick={(ev) => submitForm(ev)} color=\"primary\" variant=\"outlined\">הוסף עץ </Button>\n\n                {isModalShown.isAddingTree &&\n                    <div\n                        onClick={() => { HandleIsModalShown(!isModalShown.health) }}\n                        className=\"adding-modal\">\n                        <div className=\"background\"></div>\n                        <h1>העץ נוסף בהצלחה!</h1>\n                    </div>}\n            </form>\n        </div>\n    )\n}\n","import React, { lazy, Suspense, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { TreesForm } from '../cmps/TreesForm'\nimport { treeService } from '../services/treeService'\nimport { storageService } from '../services/storageService';\nimport { querySurvey } from '../actions/TreeActions';\n\n// import { TreePreviewList } from '../cmps/TreePreviewList';\n// const TreePreviewList = lazy(() => import('../cmps/TreePreviewList'))\nconst TreePreviewList = lazy(() => import('../services/exportModule'))\n\nconst SurveyEditor = () => {\n\n    const { currentSurvey, survey } = useSelector(state => state.TreeModule)\n    const { loggedInUser } = useSelector(state => state.appModule)\n    const [isAddingTree, setIsAddingTree] = useState(true)\n    // const [currentSurveyTrees, setCurrentSurveyTrees] = useState([])\n    // const [currentPreviewTree, setCurrentPreviewTree] = useState(false)\n    const [localCurrentSurvey, setLocalCurrentSurvey] = useState(null)\n    const dispatch = useDispatch()\n\n\n    useEffect(() => { // querySurveyTreessss\n\n        // querySurveyTrees()\n        query()\n\n    }, [])\n\n    useEffect(() => { // querySurveyTreessss\n        console.log(\"🚀 ~ file: SurveyEditor.jsx ~ line 34 ~ SurveyEditor ~ survey\", survey)\n        setLocalCurrentSurvey(survey)\n    }, [survey])\n\n    const query = async () => {\n        // const survey = await treeService.querySurvey(currentSurvey?.surveyTitle, loggedInUser?.username)\n        // dispatch(querySurvey(currentSurvey?.surveyTitle, loggedInUser?.username))\n        // setLocalCurrentSurvey(survey)\n        // if (!currentSurvey) {\n        const storageSurveyId = storageService.loadFromStorage('surveyId')\n        if (storageSurveyId) {\n            // const survey = await treeService.querySurvey(storageSurveyId.surveyTitle, loggedInUser?.username)\n            dispatch(querySurvey(storageSurveyId.surveyTitle, loggedInUser.username))\n            // dispatch(querySurvey(currentSurvey?.surveyTitle, loggedInUser?.username))\n            // setLocalCurrentSurvey(survey)\n        }\n        // }\n    }\n    // const querySurveyTrees = async () => {\n    //     let trees = await treeService.querySurveyTrees(currentSurvey?.surveyTitle, loggedInUser?.username)\n    //     setCurrentSurveyTrees(trees)\n    //     setLocalCurrentSurvey(currentSurvey)\n    //     if (!currentSurvey) {\n    //         const storageTreeId = storageService.loadFromStorage('surveyId')\n    //         if (storageTreeId) {\n    //             let trees = await treeService.querySurveyTrees(storageTreeId.surveyTitle, loggedInUser?.username)\n    //             setLocalCurrentSurvey(storageTreeId)\n    //             setCurrentSurveyTrees(trees)\n    //         }\n    //     }\n    // }\n\n    return (\n        <section id=\"swup\" className=\"main-container rtl\">\n            <h1>טופס סקר עצים <span>{localCurrentSurvey?.surveyTitle}</span>  </h1>\n            <div className=\"add-tree\">\n                {isAddingTree && <TreesForm querySurvey={query} />}\n            </div>\n\n            <Suspense fallback={<div>Loading...</div>}>\n                <TreePreviewList currentSurveyTrees={survey.surveyTrees} querySurveyTrees={querySurvey} />\n            </Suspense>\n        </section>\n    )\n}\n\nexport default function LazySurveyEditor() {\n    return <SurveyEditor />\n}"],"sourceRoot":""}